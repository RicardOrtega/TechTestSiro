<div class="shipping-container" *ngIf="shippingData">


  <div class="summary-container">
    <h2 class="summary-title">Resumen del Envío</h2>


    <div class="summary-section">
      <h3>Datos del Remitente</h3>
      <div class="info-grid">
        <div class="info-item">
          <span class="label">Nombre:</span>
          <span class="value">{{shippingData.sender.nombre}} {{shippingData.sender.apellido}}</span>
        </div>
        <div class="info-item">
          <span class="label">RUT:</span>
          <span class="value">{{shippingData.sender.rut}}</span>
        </div>
        <div class="info-item">
          <span class="label">Email:</span>
          <span class="value">{{shippingData.sender.email}}</span>
        </div>
        <div class="info-item">
          <span class="label">Teléfono:</span>
          <span class="value">{{shippingData.sender.telefono}}</span>
        </div>
      </div>
    </div>


    <div class="summary-section">
      <h3>Datos del Destinatario</h3>
      <div class="info-grid">
        <div class="info-item">
          <span class="label">Nombre:</span>
          <span class="value">{{shippingData.recipient.nombre}} {{shippingData.recipient.apellido}}</span>
        </div>
        <div class="info-item">
          <span class="label">RUT:</span>
          <span class="value">{{shippingData.recipient.rut}}</span>
        </div>
        <div class="info-item">
          <span class="label">Email:</span>
          <span class="value">{{shippingData.recipient.email}}</span>
        </div>
        <div class="info-item">
          <span class="label">Teléfono:</span>
          <span class="value">{{shippingData.recipient.telefono}}</span>
        </div>
      </div>
    </div>


    <div class="summary-section">
      <h3>Ubicaciones</h3>
      <div class="info-grid">
        <div class="info-item">
          <span class="label">Origen:</span>
          <span class="value">{{shippingData.origin.displayAddress}}</span>
        </div>
        <div class="info-item">
          <span class="label">Destino:</span>
          <span class="value">{{shippingData.destination.displayAddress}}</span>
        </div>
      </div>
    </div>


    <div class="summary-section">
      <h3>Detalles del Paquete</h3>
      <div class="info-grid">
        <div class="info-item">
          <span class="label">Tipo:</span>
          <span class="value">{{shippingData.package.isCustom ? 'Personalizado' : 'Predefinido'}}</span>
        </div>


        <ng-container *ngIf="!shippingData.package.isCustom && shippingData.package.selectedPackage">
          <div class="info-item">
            <span class="label">Tamaño:</span>
            <span class="value">{{shippingData.package.selectedPackage.name}}</span>
          </div>
          <div class="info-item">
            <span class="label">Dimensiones:</span>
            <span class="value">{{shippingData.package.selectedPackage.dimensions}}</span>
          </div>
          <div class="info-item">
            <span class="label">Peso máximo:</span>
            <span class="value">{{shippingData.package.selectedPackage.maxWeight}}</span>
          </div>
        </ng-container>


        <ng-container *ngIf="shippingData.package.isCustom && shippingData.package.customDimensions">
          <div class="info-item">
            <span class="label">Dimensiones personalizadas:</span>
            <span class="value">
                  {{shippingData.package.customDimensions.length}} x
              {{shippingData.package.customDimensions.width}} x
              {{shippingData.package.customDimensions.height}} cm
                </span>
          </div>
        </ng-container>


        <div class="info-item">
          <span class="label">Valor calculado:</span>
          <span class="value">{{shippingData.package.calculatedValue | currency:'CLP':'symbol-narrow':'1.0-0'}}</span>
        </div>
      </div>
    </div>

    <div class="button-container">
      <button class="confirm-button" (click)="confirmOrder()">Confirmar envío</button>
    </div>
  </div>
</div>
